<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片轮播 - JavaScript示例</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/examples.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <h1>JS 示例</h1>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html">返回首页</a></li>
            </ul>
        </nav>
    </header>

    <main class="example-container">
        <h1>图片轮播</h1>
        <p class="example-description">自动轮播或手动切换图片</p>

        <div class="slideshow-container">
            <div class="slide fade">
                <div class="slide-number">1 / 3</div>
                <div class="slide-content" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <h2>图片 1</h2>
                    <p>这是第一张图片的描述</p>
                </div>
            </div>

            <div class="slide fade">
                <div class="slide-number">2 / 3</div>
                <div class="slide-content" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <h2>图片 2</h2>
                    <p>这是第二张图片的描述</p>
                </div>
            </div>

            <div class="slide fade">
                <div class="slide-number">3 / 3</div>
                <div class="slide-content" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <h2>图片 3</h2>
                    <p>这是第三张图片的描述</p>
                </div>
            </div>

            <a class="prev" onclick="changeSlide(-1)">&#10094;</a>
            <a class="next" onclick="changeSlide(1)">&#10095;</a>
        </div>

        <div class="dots-container">
            <span class="dot active" onclick="currentSlide(0)"></span>
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
        </div>

        <div class="controls">
            <button class="control-btn" id="autoPlayBtn" onclick="toggleAutoPlay()">暂停轮播</button>
        </div>

        <div class="code-section">
            <h2>核心代码</h2>
            <div class="code-block">
<pre><code>let slideIndex = 0;
let autoPlayInterval;

function showSlides() {
    const slides = document.getElementsByClassName("slide");
    const dots = document.getElementsByClassName("dot");

    for (let i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
        dots[i].className = dots[i].className.replace(" active", "");
    }

    slideIndex++;
    if (slideIndex > slides.length) {
        slideIndex = 1;
    }

    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";
}

function changeSlide(n) {
    slideIndex += n - 1;
    showSlides();
}

function currentSlide(n) {
    slideIndex = n;
    showSlides();
}</code></pre>
            </div>
        </div>
    </main>

    <script>
        let slideIndex = 0;
        let autoPlayInterval;
        let isAutoPlaying = true;

        function showSlides() {
            const slides = document.getElementsByClassName("slide");
            const dots = document.getElementsByClassName("dot");

            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
                dots[i].className = dots[i].className.replace(" active", "");
            }

            slideIndex++;
            if (slideIndex > slides.length) {
                slideIndex = 1;
            }

            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
        }

        function changeSlide(n) {
            slideIndex += n - 1;
            showSlides();
        }

        function currentSlide(n) {
            slideIndex = n;
            showSlides();
        }

        function startAutoPlay() {
            autoPlayInterval = setInterval(showSlides, 3000);
        }

        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }

        function toggleAutoPlay() {
            const btn = document.getElementById('autoPlayBtn');
            if (isAutoPlaying) {
                stopAutoPlay();
                btn.textContent = '开始轮播';
            } else {
                startAutoPlay();
                btn.textContent = '暂停轮播';
            }
            isAutoPlaying = !isAutoPlaying;
        }

        // 启动自动轮播
        showSlides();
        startAutoPlay();
    </script>
</body>
</html>